Subject: [PATCH] rotz
---
Index: common/src/main/java/ch/verno/common/db/dto/AddressDto.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/common/src/main/java/ch/verno/common/db/dto/AddressDto.java b/common/src/main/java/ch/verno/common/db/dto/AddressDto.java
--- a/common/src/main/java/ch/verno/common/db/dto/AddressDto.java	(revision d296a879acd1e2ea0ea6c28db0be37383b250777)
+++ b/common/src/main/java/ch/verno/common/db/dto/AddressDto.java	(date 1766558190317)
@@ -1,37 +1,118 @@
 package ch.verno.common.db.dto;
 
+import ch.verno.common.util.Publ;
 import jakarta.annotation.Nonnull;
 import jakarta.annotation.Nullable;
 
-public record AddressDto(
-    @Nullable Long id,
-    @Nonnull String street,
-    @Nonnull String houseNumber,
-    @Nonnull String zipCode,
-    @Nonnull String city,
-    @Nonnull String country
-) {
+public class AddressDto {
+
+  @Nullable
+  private Long id;
+
+  @Nonnull
+  private String street;
+
+  @Nonnull
+  private String houseNumber;
+
+  @Nonnull
+  private String zipCode;
+
+  @Nonnull
+  private String city;
+
+  @Nonnull
+  private String country;
+
+  public AddressDto() {
+    this.id = 0L;
+    this.street = Publ.EMPTY_STRING;
+    this.houseNumber = Publ.EMPTY_STRING;
+    this.zipCode = Publ.EMPTY_STRING;
+    this.city = Publ.EMPTY_STRING;
+    this.country = Publ.EMPTY_STRING;
+  }
+
+  public AddressDto(@Nullable final Long id,
+                    @Nonnull final String street,
+                    @Nonnull final String houseNumber,
+                    @Nonnull final String zipCode,
+                    @Nonnull final String city,
+                    @Nonnull final String country) {
+    this.id = id;
+    this.street = street;
+    this.houseNumber = houseNumber;
+    this.zipCode = zipCode;
+    this.city = city;
+    this.country = country;
+  }
 
   @Nonnull
   public static AddressDto empty() {
-    return new AddressDto(
-        0L,
-        "",
-        "",
-        "",
-        "",
-        ""
-    );
+    return new AddressDto();
   }
 
   public boolean isEmpty() {
-    return this.id() != null
-        && this.id() == 0L
-        && this.street().isEmpty()
-        && this.houseNumber().isEmpty()
-        && this.zipCode().isEmpty()
-        && this.city().isEmpty()
-        && this.country().isEmpty();
+    return id != null
+        && id == 0L
+        && street.isEmpty()
+        && houseNumber.isEmpty()
+        && zipCode.isEmpty()
+        && city.isEmpty()
+        && country.isEmpty();
+  }
+
+  @Nullable
+  public Long getId() {
+    return id;
+  }
+
+  public void setId(@Nullable final Long id) {
+    this.id = id;
+  }
+
+  @Nonnull
+  public String getStreet() {
+    return street;
+  }
+
+  public void setStreet(@Nonnull final String street) {
+    this.street = street;
+  }
+
+  @Nonnull
+  public String getHouseNumber() {
+    return houseNumber;
   }
 
+  public void setHouseNumber(@Nonnull final String houseNumber) {
+    this.houseNumber = houseNumber;
+  }
+
+  @Nonnull
+  public String getZipCode() {
+    return zipCode;
+  }
+
+  public void setZipCode(@Nonnull final String zipCode) {
+    this.zipCode = zipCode;
+  }
+
+  @Nonnull
+  public String getCity() {
+    return city;
+  }
+
+  public void setCity(@Nonnull final String city) {
+    this.city = city;
+  }
+
+  @Nonnull
+  public String getCountry() {
+    return country;
+  }
+
+  public void setCountry(@Nonnull final String country) {
+    this.country = country;
+  }
 }
\ No newline at end of file
Index: server/src/main/java/ch/verno/server/mapper/AddressMapper.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/server/src/main/java/ch/verno/server/mapper/AddressMapper.java b/server/src/main/java/ch/verno/server/mapper/AddressMapper.java
--- a/server/src/main/java/ch/verno/server/mapper/AddressMapper.java	(revision d296a879acd1e2ea0ea6c28db0be37383b250777)
+++ b/server/src/main/java/ch/verno/server/mapper/AddressMapper.java	(date 1766558286655)
@@ -30,15 +30,15 @@
     }
 
     final AddressEntity entity = new AddressEntity(
-        dto.street(),
-        dto.houseNumber(),
-        dto.zipCode(),
-        dto.city(),
-        dto.country()
+        dto.getStreet(),
+        dto.getHouseNumber(),
+        dto.getZipCode(),
+        dto.getCity(),
+        dto.getCountry()
     );
 
-    if (dto.id() != null) {
-      entity.setId(dto.id());
+    if (dto.getId() != null) {
+      entity.setId(dto.getId());
     }
 
     return entity;
Index: ui/src/main/java/ch/verno/ui/base/components/entry/phonenumber/PhoneNumberEntry.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/ui/src/main/java/ch/verno/ui/base/components/entry/phonenumber/PhoneNumberEntry.java b/ui/src/main/java/ch/verno/ui/base/components/entry/phonenumber/PhoneEntry.java
rename from ui/src/main/java/ch/verno/ui/base/components/entry/phonenumber/PhoneNumberEntry.java
rename to ui/src/main/java/ch/verno/ui/base/components/entry/phonenumber/PhoneEntry.java
--- a/ui/src/main/java/ch/verno/ui/base/components/entry/phonenumber/PhoneNumberEntry.java	(revision d296a879acd1e2ea0ea6c28db0be37383b250777)
+++ b/ui/src/main/java/ch/verno/ui/base/components/entry/phonenumber/PhoneEntry.java	(date 1766556849519)
@@ -11,12 +11,12 @@
 import com.vaadin.flow.component.textfield.TextField;
 import jakarta.annotation.Nonnull;
 
-public class PhoneNumberEntry extends CustomField<PhoneNumber> {
+public class PhoneEntry extends CustomField<PhoneNumber> {
 
   private final ComboBox<CallingCode> callingCodes;
   private final TextField phoneNumberField;
 
-  public PhoneNumberEntry(@Nonnull final String label) {
+  public PhoneEntry(@Nonnull final String label) {
     setLabel(label);
 
     final var callingCodeOptions = CallingCodeHelper.getCallingCodes();
Index: ui/src/main/java/ch/verno/ui/verno/participant/detail/ParticipantsDetail.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/ui/src/main/java/ch/verno/ui/verno/participant/detail/ParticipantsDetail.java b/ui/src/main/java/ch/verno/ui/verno/participant/detail/ParticipantsDetail.java
--- a/ui/src/main/java/ch/verno/ui/verno/participant/detail/ParticipantsDetail.java	(revision d296a879acd1e2ea0ea6c28db0be37383b250777)
+++ b/ui/src/main/java/ch/verno/ui/verno/participant/detail/ParticipantsDetail.java	(date 1766559010239)
@@ -1,21 +1,19 @@
 package ch.verno.ui.verno.participant.detail;
 
 
-import ch.verno.common.base.components.entry.phonenumber.PhoneNumber;
 import ch.verno.common.db.dto.CourseDto;
-import ch.verno.common.db.dto.CourseLevelDto;
-import ch.verno.common.db.dto.GenderDto;
 import ch.verno.common.db.dto.ParticipantDto;
-import ch.verno.common.util.calling.CallingCode;
 import ch.verno.server.service.CourseLevelService;
 import ch.verno.server.service.CourseService;
 import ch.verno.server.service.GenderService;
 import ch.verno.server.service.ParticipantService;
 import ch.verno.ui.base.components.toolbar.ViewToolbar;
-import ch.verno.ui.base.factory.EntryFactory;
+import ch.verno.ui.verno.participant.factory.ParticipantFieldFactory;
+import com.vaadin.flow.component.AbstractField;
 import com.vaadin.flow.component.Component;
 import com.vaadin.flow.component.UI;
 import com.vaadin.flow.component.button.Button;
+import com.vaadin.flow.component.combobox.ComboBox;
 import com.vaadin.flow.component.orderedlayout.HorizontalLayout;
 import com.vaadin.flow.component.orderedlayout.VerticalLayout;
 import com.vaadin.flow.data.binder.Binder;
@@ -24,7 +22,6 @@
 import jakarta.annotation.Nonnull;
 
 import java.util.Map;
-import java.util.Optional;
 import java.util.stream.Collectors;
 
 @Route("participants/detail")
@@ -44,7 +41,7 @@
   @Nonnull
   private final ParticipantDto participant;
   @Nonnull
-  private final EntryFactory<ParticipantDto, GenderDto> entryFactory;
+  private final ParticipantFieldFactory participantFieldFactory;
 
   public ParticipantsDetail(@Nonnull final ParticipantService participantService,
                             @Nonnull final GenderService genderService,
@@ -57,7 +54,7 @@
 
     this.binder = new Binder<>(ParticipantDto.class);
     this.participant = new ParticipantDto();
-    this.entryFactory = new EntryFactory<>();
+    this.participantFieldFactory = new ParticipantFieldFactory();
 
 
     init();
@@ -73,143 +70,106 @@
 
     final var participantLayout = new VerticalLayout();
     participantLayout.setWidthFull();
-    participantLayout.add(createFirstLayer());
-    participantLayout.add(createSecondLayer());
-    participantLayout.add(createThirdLayer());
+    participantLayout.add(createParticipantInfoLayout());
+    participantLayout.add(createParticipantContactLayout());
+    participantLayout.add(createParticipantCourseLayout());
+
+    final var addressLayout = new VerticalLayout();
+    addressLayout.setWidthFull();
+    addressLayout.add(createAddressLayout());
+
 
     setSizeFull();
     setPadding(false);
     setSpacing(false);
 
     add(new ViewToolbar("Participant Detail", saveButton));
-    add(participantLayout);
+    add(participantLayout, addressLayout);
   }
 
   @Nonnull
-  private HorizontalLayout createFirstLayer() {
-    final var firstNameEntry = entryFactory.createTextEntry(
-        ParticipantDto::getFirstName,
-        ParticipantDto::setFirstName,
-        binder,
-        Optional.of("First Name is required"),
-        "First Name"
-    );
-
-    final var lastNameEntry = entryFactory.createTextEntry(
-        ParticipantDto::getLastName,
-        ParticipantDto::setLastName,
-        binder,
-        Optional.of("Last Name is required"),
-        "Last Name"
-    );
-
-    final var birthdateEntry = entryFactory.createDateEntry(
-        ParticipantDto::getBirthdate,
-        ParticipantDto::setBirthdate,
-        binder,
-        Optional.empty(),
-        "Birthdate");
-    birthdateEntry.setWidthFull();
-
-    final var genderEntry = entryFactory.createTwoOptionEntry(
-        ParticipantDto::getGender,
-        ParticipantDto::setGender,
-        binder,
-        genderService.getAllGenders(),
-        GenderDto::name,
-        Optional.empty(),
-        "Gender"
-    );
-    genderEntry.setWidthFull();
-
+  private HorizontalLayout createParticipantInfoLayout() {
+    final var firstNameEntry = participantFieldFactory.createFirstNameEntry(binder);
+    final var lastNameEntry = participantFieldFactory.createLastNameEntry(binder);
+    final var birthdateEntry = participantFieldFactory.createBirthdateEntry(binder);
+    final var genderEntry = participantFieldFactory.createGenderEntry(binder, genderService);
 
     return createLayoutFromComponents(firstNameEntry, lastNameEntry, birthdateEntry, genderEntry);
   }
 
   @Nonnull
-  private HorizontalLayout createSecondLayer() {
-    final var emailEntry = entryFactory.createEmailEntry(
-        ParticipantDto::getEmail,
-        ParticipantDto::setEmail,
-        binder,
-        Optional.empty(),
-        "Email address"
-    );
-    final var phoneEntry = entryFactory.createPhoneNumberEntry(
-        ParticipantDto::getPhone,
-        ParticipantDto::setPhone,
-        binder,
-        Optional.empty(),
-        "Phone number"
-    );
+  private HorizontalLayout createParticipantContactLayout() {
+    final var emailEntry = participantFieldFactory.createEmailEntry(binder);
+    final var phoneEntry = participantFieldFactory.createPhoneEntry(binder);
 
     return createLayoutFromComponents(emailEntry, phoneEntry);
   }
 
   @Nonnull
-  private HorizontalLayout createThirdLayer() {
-    final var courseLevels = courseLevelService.getAllCourseLevels();
-    final var courseLevelOptions = courseLevels.stream()
-        .collect(Collectors.toMap(CourseLevelDto::id, CourseLevelDto::name));
-    final var courseLevelEntry = entryFactory.createComboBoxEntry(
-        dto -> dto.getCourseLevel().id(),
-        (dto, levelId) -> dto.setCourseLevel(
-            levelId == null ? CourseLevelDto.empty() : courseLevelService.getCourseLevelById(levelId)
-        ),
-        binder,
-        Optional.empty(),
-        "Course Level",
-        courseLevelOptions
-    );
+  private HorizontalLayout createParticipantCourseLayout() {
+    final var courseLevelEntry = participantFieldFactory.createCourseLevelEntry(binder, courseLevelService);
+    final var courseEntry = participantFieldFactory.createCourseEntry(binder, courseService);
+
+    courseLevelEntry.addValueChangeListener(e -> courseLevelValueChangeEvent(e, courseEntry));
+
+    final var courseLevelOptions = courseLevelEntry.getListDataView().getItems()
+        .collect(Collectors.toMap(id -> id, id -> courseLevelEntry.getItemLabelGenerator().apply(id)));
+    if (!courseLevelOptions.isEmpty()) {
+      courseLevelEntry.setValue(courseLevelOptions.keySet().iterator().next());
+    }
+
+    return createLayoutFromComponents(courseLevelEntry, courseEntry);
+  }
+
+  @Nonnull
+  private HorizontalLayout createAddressLayout() {
+    final var streetEntry = participantFieldFactory.createStreetEntry(binder);
+    final var houseNumberEntry = participantFieldFactory.createHouseNumberEntry(binder);
+    final var zipCodeEntry = participantFieldFactory.createZipCodeEntry(binder);
+    final var cityEntry = participantFieldFactory.createCityEntry(binder);
+    final var countryEntry = participantFieldFactory.createCountryEntry(binder);
+
+    return createLayoutFromComponents(streetEntry, houseNumberEntry, zipCodeEntry, cityEntry, countryEntry);
+  }
 
-    final var courses = courseService.getAllCourses();
-    final var courseOptions = courses.stream()
-        .collect(Collectors.toMap(CourseDto::id, CourseDto::title));
-    final var courseEntry = entryFactory.createComboBoxEntry(
-        dto -> dto.getCourse() == null ? null : dto.getCourse().id(),
-        (dto, courseId) -> dto.setCourse(
-            courseId == null ? CourseDto.empty() : courseService.getCourseById(courseId)
-        ),
-        binder,
-        Optional.empty(),
-        "Course",
-        courseOptions
-    );
+  private HorizontalLayout createParentsLayout() {
 
-    courseLevelEntry.addValueChangeListener(e -> {
-      final var selectedLevelId = e.getValue();
+    final var parentOneLayout = new VerticalLayout();
+    final var firstNameEntryParentOne = participantFieldFactory.createFirstNameEntry(binder);
+
+  }
+
+  private void courseLevelValueChangeEvent(@Nonnull final AbstractField.ComponentValueChangeEvent<ComboBox<Long>, Long> event,
+                                           @Nonnull final ComboBox<Long> courseEntry) {
+    final var selectedLevelId = event.getValue();
 
-      final var currentValue = courseEntry.getValue();
-      courseEntry.clear();
+    final var currentValue = courseEntry.getValue();
+    courseEntry.clear();
 
-      if (selectedLevelId == null) {
-        courseEntry.setItems(courseOptions.keySet());
-        courseEntry.setValue(currentValue);
-        return;
-      }
+    if (selectedLevelId == null) {
+      courseEntry.setItems(
+          courseService.getAllCourses().stream()
+              .map(CourseDto::id)
+              .toList());
+      courseEntry.setValue(currentValue);
+      return;
+    }
 
-      final var filteredCourses = courses.stream()
-          .filter(c -> !c.level().isEmpty() && selectedLevelId.equals(c.level().id()))
-          .toList();
+    final var filteredCourses = courseService.getAllCourses().stream()
+        .filter(c -> !c.level().isEmpty() && selectedLevelId.equals(c.level().id()))
+        .toList();
 
-      final Map<Long, String> filteredCourseOptions = filteredCourses.stream()
-          .collect(Collectors.toMap(
-              CourseDto::id,
-              CourseDto::displayName
-          ));
+    final Map<Long, String> filteredCourseOptions = filteredCourses.stream()
+        .collect(Collectors.toMap(
+            CourseDto::id,
+            CourseDto::displayName
+        ));
 
-      courseEntry.setItems(filteredCourseOptions.keySet());
+    courseEntry.setItems(filteredCourseOptions.keySet());
 
-      if (!filteredCourseOptions.isEmpty()) {
-        courseEntry.setValue(filteredCourseOptions.keySet().iterator().next());
-      }
-    });
-
-    if (!courseLevelOptions.isEmpty()) {
-      courseLevelEntry.setValue(courseLevelOptions.keySet().iterator().next());
+    if (!filteredCourseOptions.isEmpty()) {
+      courseEntry.setValue(filteredCourseOptions.keySet().iterator().next());
     }
-
-    return createLayoutFromComponents(courseLevelEntry, courseEntry);
   }
 
   @Nonnull
Index: ui/src/main/java/ch/verno/ui/verno/participant/detail/ParentType.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/ui/src/main/java/ch/verno/ui/verno/participant/detail/ParentType.java b/ui/src/main/java/ch/verno/ui/verno/participant/detail/ParentType.java
new file mode 100644
--- /dev/null	(date 1766558946966)
+++ b/ui/src/main/java/ch/verno/ui/verno/participant/detail/ParentType.java	(date 1766558946966)
@@ -0,0 +1,6 @@
+package ch.verno.ui.verno.participant.detail;
+
+public enum ParentType {
+  PARENT_ONE,
+  PARENT_TWO;
+}
Index: ui/src/main/java/ch/verno/ui/base/factory/EntryFactory.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/ui/src/main/java/ch/verno/ui/base/factory/EntryFactory.java b/ui/src/main/java/ch/verno/ui/base/factory/EntryFactory.java
--- a/ui/src/main/java/ch/verno/ui/base/factory/EntryFactory.java	(revision d296a879acd1e2ea0ea6c28db0be37383b250777)
+++ b/ui/src/main/java/ch/verno/ui/base/factory/EntryFactory.java	(date 1766556849516)
@@ -2,7 +2,7 @@
 
 import ch.verno.common.base.components.entry.phonenumber.PhoneNumber;
 import ch.verno.common.util.phonenumber.PhoneNumberFormatter;
-import ch.verno.ui.base.components.entry.phonenumber.PhoneNumberEntry;
+import ch.verno.ui.base.components.entry.phonenumber.PhoneEntry;
 import ch.verno.ui.base.components.entry.twooption.TwoOptionEntry;
 import com.vaadin.flow.component.HasValue;
 import com.vaadin.flow.component.combobox.ComboBox;
@@ -50,12 +50,12 @@
   }
 
   @Nonnull
-  public PhoneNumberEntry createPhoneNumberEntry(@Nonnull final ValueProvider<DTO, PhoneNumber> valueProvider,
-                                                 @Nonnull final Setter<DTO, PhoneNumber> valueSetter,
-                                                 @Nonnull final Binder<DTO> binder,
-                                                 @Nonnull final Optional<String> required,
-                                                 @Nonnull final String label) {
-    final var phoneEntry = new PhoneNumberEntry(label);
+  public PhoneEntry createPhoneNumberEntry(@Nonnull final ValueProvider<DTO, PhoneNumber> valueProvider,
+                                           @Nonnull final Setter<DTO, PhoneNumber> valueSetter,
+                                           @Nonnull final Binder<DTO> binder,
+                                           @Nonnull final Optional<String> required,
+                                           @Nonnull final String label) {
+    final var phoneEntry = new PhoneEntry(label);
     phoneEntry.setWidthFull();
 
     final var binding = binder.forField(phoneEntry);
Index: ui/src/main/java/ch/verno/ui/verno/participant/factory/ParticipantFieldFactory.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/ui/src/main/java/ch/verno/ui/verno/participant/factory/ParticipantFieldFactory.java b/ui/src/main/java/ch/verno/ui/verno/participant/factory/ParticipantFieldFactory.java
new file mode 100644
--- /dev/null	(date 1766558245645)
+++ b/ui/src/main/java/ch/verno/ui/verno/participant/factory/ParticipantFieldFactory.java	(date 1766558245645)
@@ -0,0 +1,196 @@
+package ch.verno.ui.verno.participant.factory;
+
+import ch.verno.common.db.dto.CourseDto;
+import ch.verno.common.db.dto.CourseLevelDto;
+import ch.verno.common.db.dto.GenderDto;
+import ch.verno.common.db.dto.ParticipantDto;
+import ch.verno.server.service.CourseLevelService;
+import ch.verno.server.service.CourseService;
+import ch.verno.server.service.GenderService;
+import ch.verno.ui.base.components.entry.phonenumber.PhoneEntry;
+import ch.verno.ui.base.components.entry.twooption.TwoOptionEntry;
+import ch.verno.ui.base.factory.EntryFactory;
+import com.vaadin.flow.component.combobox.ComboBox;
+import com.vaadin.flow.component.datepicker.DatePicker;
+import com.vaadin.flow.component.textfield.EmailField;
+import com.vaadin.flow.component.textfield.TextField;
+import com.vaadin.flow.data.binder.Binder;
+import jakarta.annotation.Nonnull;
+
+import java.util.Optional;
+import java.util.stream.Collectors;
+
+public class ParticipantFieldFactory {
+
+  @Nonnull
+  private final EntryFactory<ParticipantDto, GenderDto> entryFactory;
+
+  public ParticipantFieldFactory() {
+    this.entryFactory = new EntryFactory<>();
+  }
+
+  public TextField createFirstNameEntry(@Nonnull final Binder<ParticipantDto> binder) {
+    return entryFactory.createTextEntry(
+        ParticipantDto::getFirstName,
+        ParticipantDto::setFirstName,
+        binder,
+        Optional.of("First Name is required"),
+        "First Name"
+    );
+  }
+
+  @Nonnull
+  public TextField createLastNameEntry(@Nonnull final Binder<ParticipantDto> binder) {
+    return entryFactory.createTextEntry(
+        ParticipantDto::getLastName,
+        ParticipantDto::setLastName,
+        binder,
+        Optional.of("Last Name is required"),
+        "Last Name"
+    );
+  }
+
+  @Nonnull
+  public TextField createStreetEntry(@Nonnull final Binder<ParticipantDto> binder) {
+    return entryFactory.createTextEntry(
+        dto -> dto.getAddress().getStreet(),
+        (dto, street) -> dto.getAddress().setStreet(street),
+        binder,
+        Optional.empty(),
+        "Street"
+    );
+  }
+
+  @Nonnull
+  public TextField createHouseNumberEntry(@Nonnull final Binder<ParticipantDto> binder) {
+    return entryFactory.createTextEntry(
+        dto -> dto.getAddress().getHouseNumber(),
+        (dto, houseNumber) -> dto.getAddress().setHouseNumber(houseNumber),
+        binder,
+        Optional.empty(),
+        "House Number"
+    );
+  }
+
+  @Nonnull
+  public TextField createZipCodeEntry(@Nonnull final Binder<ParticipantDto> binder) {
+    return entryFactory.createTextEntry(
+        dto -> dto.getAddress().getZipCode(),
+        (dto, zipCode) -> dto.getAddress().setZipCode(zipCode),
+        binder,
+        Optional.empty(),
+        "ZIP Code"
+    );
+  }
+
+  @Nonnull
+  public TextField createCityEntry(@Nonnull final Binder<ParticipantDto> binder) {
+    return entryFactory.createTextEntry(
+        dto -> dto.getAddress().getCity(),
+        (dto, city) -> dto.getAddress().setCity(city),
+        binder,
+        Optional.empty(),
+        "City"
+    );
+  }
+
+  public TextField createCountryEntry(@Nonnull final Binder<ParticipantDto> binder) {
+    return entryFactory.createTextEntry(
+        dto -> dto.getAddress().getCountry(),
+        (dto, country) -> dto.getAddress().setCountry(country),
+        binder,
+        Optional.empty(),
+        "Country"
+    );
+  }
+
+  @Nonnull
+  public EmailField createEmailEntry(@Nonnull final Binder<ParticipantDto> binder) {
+    return entryFactory.createEmailEntry(
+        ParticipantDto::getEmail,
+        ParticipantDto::setEmail,
+        binder,
+        Optional.empty(),
+        "Email address"
+    );
+  }
+
+  @Nonnull
+  public DatePicker createBirthdateEntry(@Nonnull final Binder<ParticipantDto> binder) {
+    final var entry = entryFactory.createDateEntry(
+        ParticipantDto::getBirthdate,
+        ParticipantDto::setBirthdate,
+        binder,
+        Optional.empty(),
+        "Birthdate");
+
+    entry.setWidthFull();
+
+    return entry;
+  }
+
+  @Nonnull
+  public ComboBox<Long> createCourseLevelEntry(@Nonnull final Binder<ParticipantDto> binder,
+                                               @Nonnull final CourseLevelService courseLevelService) {
+    final var courseLevels = courseLevelService.getAllCourseLevels();
+    final var courseLevelOptions = courseLevels.stream()
+        .collect(Collectors.toMap(CourseLevelDto::id, CourseLevelDto::name));
+
+    return entryFactory.createComboBoxEntry(
+        dto -> dto.getCourseLevel().id(),
+        (dto, levelId) ->
+            dto.setCourseLevel(levelId == null ? CourseLevelDto.empty() : courseLevelService.getCourseLevelById(levelId)),
+        binder,
+        Optional.empty(),
+        "Course Level",
+        courseLevelOptions
+    );
+  }
+
+  @Nonnull
+  public ComboBox<Long> createCourseEntry(@Nonnull final Binder<ParticipantDto> binder,
+                                          @Nonnull final CourseService courseService) {
+    final var courses = courseService.getAllCourses();
+    final var courseOptions = courses.stream()
+        .collect(Collectors.toMap(CourseDto::id, CourseDto::title));
+
+    return entryFactory.createComboBoxEntry(
+        dto -> dto.getCourse() == null ? null : dto.getCourse().id(),
+        (dto, courseId) ->
+            dto.setCourse(courseId == null ? CourseDto.empty() : courseService.getCourseById(courseId)),
+        binder,
+        Optional.empty(),
+        "Course",
+        courseOptions
+    );
+  }
+
+
+  @Nonnull
+  public PhoneEntry createPhoneEntry(@Nonnull final Binder<ParticipantDto> binder) {
+    return entryFactory.createPhoneNumberEntry(
+        ParticipantDto::getPhone,
+        ParticipantDto::setPhone,
+        binder,
+        Optional.empty(),
+        "Phone number"
+    );
+  }
+
+  @Nonnull
+  public TwoOptionEntry<GenderDto> createGenderEntry(@Nonnull final Binder<ParticipantDto> binder,
+                                                     @Nonnull final GenderService genderService) {
+    final var entry = entryFactory.createTwoOptionEntry(
+        ParticipantDto::getGender,
+        ParticipantDto::setGender,
+        binder,
+        genderService.getAllGenders(),
+        GenderDto::name,
+        Optional.empty(),
+        "Gender"
+    );
+    entry.setWidthFull();
+
+    return entry;
+  }
+}
